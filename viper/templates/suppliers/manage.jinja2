{% extends "templates/layout.jinja2" %}
{% block content %}
<section id="manage-suplier">
	 <div class="page-header">
       <h1> {% if model.Id == None %}
       			Add Supplier
       		{% else %}
       			Edit Supplier
       		{% endif %}
		 <small class="pull-right">
		  	<a href="/suppliers" title="Back to Supplier listing!" class="btn btn-primary">
		  		<i class="icon-arrow-left icon-white"></i> Back
		  	</a>
		 </small></h1>
	</div> 	
	<div class="row">
		<div class="span12">&nbsp;</div>
	</div>
	<div class="span8">
		{% if errors or renderer.errorlist() or cfr.errorlist() %} 
		 	<div class="alert alert-error">
		 		<strong>Please correct the errors and submit again:</strong>
		 		{{ ('<ul><li>'+ errors + '</li></ul>') | safe if errors }}
		 		{{renderer.errorlist(name=None,class='')}}
		 		{{cfr.errorlist(name=None,class='')}}
		 	</div>
		 {% endif %}
		<form action="{{'savesupplier'|route_url}}" method="post" class="form-horizontal">
			{% import 'shared/contactform.jinja2' as contactForm with context %}
			<h3>Agency Details</h3>
			<table class="table">
				<tbody>
					<tr>
						<td>
							<div class="control-group {{ 'error' if renderer.is_error('Name') }}">
								{{renderer.label('Name','Agency Name',class='control-label')}}
								<div class="controls">
									{{renderer.text('Name',size=100,class='input-xlarge',autofocus=True)}}
								</div>
							</div>
						</td>
						<td>
							<div class="control-group {{ 'error' if renderer.is_error('Description') }}">
								{{renderer.label('Description','Agency Description',class='control-label')}}
								<div class="controls">
									{{renderer.textarea('Description',class='input-xlarge')}}
								</div>
							</div>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<div class="control-group {{ 'error' if renderer.is_error('Address') }}">
								{{renderer.label('Address','Agency Address',class='control-label')}}
								<div class="controls">
									{{renderer.textarea('Address',class='input-xlarge')}}
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<h3>Contact Details</h3>
			{{ contactForm.render(cfr) }}
			<div class="form-actions">
				<input type="hidden" name="sid" value="{{model.Id|d('',True)}}"/>
				<input type="submit" class="btn btn-primary" value="Save"/>
				<input type="reset" name="reset" class="btn" value="Reset"/>
			</div>
		 </form>
     </div>
</section>      
{% endblock %}
